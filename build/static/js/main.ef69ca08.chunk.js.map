{"version":3,"sources":["services/BooksAPI.js","components/NavBar/index.js","components/Logo/index.js","components/Container/index.js","components/HomePage/Hero/index.js","components/BookShelf/Shelf/index.js","components/Card/index.js","components/BookCard/BookCardAvatar/index.js","components/BookCard/BookCardBody/index.js","components/BookCard/BookShelfChanger/index.js","components/StarRatings/index.js","components/BookCard/index.js","components/BookShelf/index.js","components/HomePage/OpenSearchBtn/index.js","components/HomePage/index.js","components/SearchPage/SearchBar/index.js","components/List/index.js","components/SearchPage/SearchResults/index.js","services/searchService.js","components/SearchPage/index.js","components/App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","concat","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","then","res","json","NavBar","_ref","children","react_default","a","createElement","className","Logo","text","path","size","Link","to","classNames","md","Container","Hero","Shelf","responsive","0","items","670","980","1324","handleOnDragStart","e","preventDefault","this","props","react_alice_carousel_default","mouseDragEnabled","Component","Card","classnames","BookCardAvatar","src","style","backgroundImage","defaultProps","BookCardBody","title","authors","join","BookShelfChanger","handleUpdate","currValue","value","onChange","target","disabled","Ratings","propTypes","avgRating","PropTypes","number","StarRatings","build_default","rating","widgetDimensions","widgetSpacings","widgetRatedColors","Widget","fontWeight","BookCard","objectWithoutProperties","assign","components_Card","BookCard_BookCardAvatar","imageLinks","thumbnail","BookCard_BookCardBody","components_StarRatings","averageRating","BookCard_BookShelfChanger","BookShelf","_this$props","filteredBooks","BookShelf_Shelf","map","b","AppContext","Consumer","context","components_BookCard","onDragStart","key","updateBookStatus","OpenSearchBtn","HomePage","books","keys","components_NavBar","components_Logo","components_Container","HomePage_Hero","k","components_BookShelf","str","split","word","toUpperCase","slice","filter","HomePage_OpenSearchBtn","SearchBar","handleSearch","type","placeholder","onKeyUp","List","SearchResults","results","components_List","SearchService","classCallCheck","searchTerm","Subject","createClass","query","next","from","data","search","_this","pipe","debounceTime","distinctUntilChanged","switchMap","doSearch","of","catchError","error","console","SearchPage","possibleConstructorReturn","getPrototypeOf","call","searchService","trim","state","_this2","getResults","subscribe","Array","isArray","setState","SearchPage_SearchBar","SearchPage_SearchResults","React","createContext","BooksApp","_callee","shelvesLen","shelves","regenerator_default","wrap","_context","prev","BooksAPI","sent","length","toConsumableArray","t0","log","stop","parse","window","getItem","setItem","Provider","BrowserRouter","Route","exact","render","components_HomePage","component","shelf1","shelf2","shelf3","ReactDOM","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.ef69ca08.chunk.js","sourcesContent":["\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction NavBar({ children }) {\r\n  return <nav className=\"navbar\">{children}</nav>;\r\n}\r\n\r\nNavBar.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction Logo({ text, className, path, size }) {\r\n  return (\r\n    <Link to={path}>\r\n      <div className={classNames(\"logo\", className)}>\r\n        <h1 className={classNames({ md: !size }, size)}>{text}</h1>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nLogo.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  path: PropTypes.string.isRequired,\r\n  size: PropTypes.string\r\n};\r\n\r\nexport default Logo;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction Container({ children }) {\r\n  return <div className=\"container\">{children}</div>;\r\n}\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction Hero() {\r\n  return <div className=\"hero\" />;\r\n}\r\n\r\nexport default Hero;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Carousel from \"react-alice-carousel\";\r\n\r\nimport \"react-alice-carousel/lib/alice-carousel.css\";\r\nimport \"./styles.css\";\r\n\r\nclass Shelf extends Component {\r\n  responsive = {\r\n    0: { items: 1 },\r\n    670: { items: 2 },\r\n    980: { items: 3 },\r\n    1324: { items: 4 }\r\n  };\r\n\r\n  handleOnDragStart = e => e.preventDefault();\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div className=\"shelf\">\r\n        <i className=\"fas fa-angle-left\" />\r\n        <Carousel\r\n          mouseDragEnabled\r\n          items={children(this.handleOnDragStart)}\r\n          responsive={this.responsive}\r\n        />\r\n        <i className=\"fas fa-angle-right\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nShelf.propTypes = {\r\n  children: PropTypes.func\r\n};\r\n\r\nexport default Shelf;\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction Card({ className, children }) {\r\n  return <div className={classnames(\"card\", className)}>{children}</div>;\r\n}\r\n\r\nCard.propTypes = {\r\n  className: PropTypes.string,\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction BookCardAvatar({ src }) {\r\n  return (\r\n    <div\r\n      className=\"book-card-avatar\"\r\n      style={{\r\n        backgroundImage: `url(${src})`\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nBookCardAvatar.defaultProps = {\r\n  src: \"https://via.placeholder.com/100x170\"\r\n};\r\n\r\nBookCardAvatar.propTypes = {\r\n  src: PropTypes.string\r\n};\r\n\r\nexport default BookCardAvatar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction BookCardBody({ title, authors, children }) {\r\n  return (\r\n    <div className=\"book-card-body\">\r\n      <div className=\"book-title\">{title}</div>\r\n      <div className=\"book-authors\">by {authors.join(\", \")}</div>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nBookCardBody.defaultProps = {\r\n  title: \"Lorem Ipsom Dolour\",\r\n  authors: [\"Unknown\"]\r\n};\r\n\r\nBookCardBody.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  authors: PropTypes.arrayOf(PropTypes.string),\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default BookCardBody;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction BookShelfChanger({ handleUpdate, currValue }) {\r\n  return (\r\n    <div className=\"book-shelf-changer-2\">\r\n      <select value={currValue} onChange={e => handleUpdate(e.target.value)}>\r\n        <option value=\"move\" disabled>\r\n          Move to...\r\n        </option>\r\n        <option value=\"currentlyReading\">Currently Reading</option>\r\n        <option value=\"wantToRead\">Want to Read</option>\r\n        <option value=\"read\">Read</option>\r\n        <option value=\"none\">None</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nBookShelfChanger.propTypes = {\r\n  handleUpdate: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookShelfChanger;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Ratings from \"react-ratings-declarative\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction StarRatings({ avgRating }) {\r\n  return avgRating ? (\r\n    <div className=\"star-rating\">\r\n      <Ratings\r\n        rating={avgRating}\r\n        widgetDimensions=\"13px\"\r\n        widgetSpacings=\"0.1px\"\r\n        widgetRatedColors=\"#f8ce0b\"\r\n      >\r\n        <Ratings.Widget />\r\n        <Ratings.Widget />\r\n        <Ratings.Widget />\r\n        <Ratings.Widget />\r\n        <Ratings.Widget />\r\n      </Ratings>\r\n      <span style={{ fontWeight: \"bold\" }}> {`${avgRating}`}</span> avg. rating\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nRatings.propTypes = {\r\n  avgRating: PropTypes.number\r\n};\r\n\r\nexport default StarRatings;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Card from \"../Card\";\r\nimport BookCardAvatar from \"./BookCardAvatar\";\r\nimport BookCardBody from \"./BookCardBody\";\r\nimport BookShelfChanger from \"./BookShelfChanger\";\r\nimport Ratings from \"../StarRatings\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction BookCard({ book, handleUpdate, className, ...props }) {\r\n  return (\r\n    <div className={classNames(\"book-card\", className)} {...props}>\r\n      <Card>\r\n        <BookCardAvatar\r\n          src={\r\n            book.imageLinks\r\n              ? book.imageLinks.thumbnail\r\n              : \"https://via.placeholder.com/100x170\"\r\n          }\r\n        />\r\n        <BookCardBody title={book.title} authors={book.authors}>\r\n          <Ratings avgRating={book.averageRating} />\r\n          <BookShelfChanger\r\n            currValue={book.shelf || \"none\"}\r\n            handleUpdate={shelf => handleUpdate(book, shelf)}\r\n          />\r\n        </BookCardBody>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nBookCard.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  handleUpdate: PropTypes.func.isRequired,\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default BookCard;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Shelf from \"./Shelf\";\r\nimport BookCard from \"../BookCard\";\r\nimport { AppContext } from \"../App\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass BookShelf extends Component {\r\n  render() {\r\n    const { filteredBooks, title } = this.props;\r\n    return (\r\n      <div className=\"book-shelf\">\r\n        <h2 className=\"book-shelf-title\">{title}</h2>\r\n        <Shelf>\r\n          {handleOnDragStart => {\r\n            return filteredBooks.map(b => (\r\n              <AppContext.Consumer>\r\n                {context => (\r\n                  <BookCard\r\n                    onDragStart={handleOnDragStart}\r\n                    key={b.id}\r\n                    book={b}\r\n                    handleUpdate={context.updateBookStatus}\r\n                  />\r\n                )}\r\n              </AppContext.Consumer>\r\n            ));\r\n          }}\r\n        </Shelf>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBookShelf.propTypes = {\r\n  filteredBooks: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  title: PropTypes.string.isRequired\r\n};\r\n\r\nexport default BookShelf;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction OpenSearchBtn() {\r\n  return (\r\n    <div className=\"open-search\">\r\n      <Link to=\"/search\">Add a book</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OpenSearchBtn;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport NavBar from \"../NavBar\";\r\nimport Logo from \"../Logo\";\r\nimport Container from \"../Container\";\r\nimport Hero from \"./Hero\";\r\nimport BookShelf from \"../BookShelf\";\r\nimport OpenSearchBtn from \"./OpenSearchBtn\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport function fromStatusKeyToTitle(str) {\r\n  return str\r\n    .split(/(?<!^)(?=[A-Z])/)\r\n    .map(word => word[0].toUpperCase() + word.slice(1))\r\n    .join(\" \");\r\n}\r\n\r\nfunction HomePage({ books, keys }) {\r\n  return (\r\n    <div className=\"list-books\">\r\n      <NavBar>\r\n        <Logo path=\"/\" text=\"MyReads\" size=\"md\" />\r\n      </NavBar>\r\n      <Container>\r\n        <Hero />\r\n      </Container>\r\n\r\n      <div className=\"list-books-content\">\r\n        <Container>\r\n          {Object.keys(keys).map(k => {\r\n            return (\r\n              <BookShelf\r\n                key={k}\r\n                title={fromStatusKeyToTitle(keys[k])}\r\n                filteredBooks={books.filter(b => b.shelf === keys[k])}\r\n              />\r\n            );\r\n          })}\r\n        </Container>\r\n      </div>\r\n\r\n      <OpenSearchBtn />\r\n    </div>\r\n  );\r\n}\r\n\r\nHomePage.propTypes = {\r\n  books: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  keys: PropTypes.object.isRequired\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction SearchBar({ handleSearch }) {\r\n  return (\r\n    <div className=\"search-books-bar\">\r\n      <Link to=\"/\" className=\"close-search\">\r\n        Close\r\n      </Link>\r\n      <div className=\"search-books-input-wrapper\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by title or author\"\r\n          onKeyUp={e => handleSearch(e.target.value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  handleSearch: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classNames from \"classnames\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction List({ className, children }) {\r\n  return <ul className={classNames(\"list\", className)}>{children}</ul>;\r\n}\r\n\r\nList.propTypes = {\r\n  className: PropTypes.string,\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node\r\n  ])\r\n};\r\n\r\nexport default List;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport List from \"../../List\";\r\nimport BookCard from \"../../BookCard\";\r\nimport { AppContext } from \"../../App\";\r\n\r\nimport \"./styles.css\";\r\n\r\nfunction SearchResults({ results }) {\r\n  return (\r\n    <div className=\"search-books-results\">\r\n      <AppContext.Consumer>\r\n        {context => (\r\n          <List>\r\n            {results.map(b => {\r\n              return (\r\n                <li key={`${b.id}`} className=\"list-item\">\r\n                  <BookCard book={b} handleUpdate={context.updateBookStatus} />\r\n                </li>\r\n              );\r\n            })}\r\n          </List>\r\n        )}\r\n      </AppContext.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchResults.propTypes = {\r\n  results: PropTypes.arrayOf(PropTypes.object).isRequired\r\n};\r\n\r\nexport default SearchResults;\r\n","import { Subject, of, from } from \"rxjs\";\r\nimport { search } from \"./BooksAPI\";\r\n\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  switchMap,\r\n  catchError\r\n} from \"rxjs/operators\";\r\n\r\nexport class SearchService {\r\n  constructor() {\r\n    this.searchTerm = new Subject();\r\n  }\r\n\r\n  search(query) {\r\n    this.searchTerm.next(query);\r\n  }\r\n\r\n  doSearch(query) {\r\n    return from(search(query));\r\n  }\r\n\r\n  getResults() {\r\n    return this.searchTerm.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      switchMap(query => (query ? this.doSearch(query) : of([]))),\r\n      catchError(error => {\r\n        console.error(error);\r\n        return of([]);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport SearchBar from \"./SearchBar\";\r\nimport SearchResults from \"./SearchResults\";\r\nimport { SearchService } from \"../../services/searchService\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass SearchPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.searchService = new SearchService();\r\n    this.state = {\r\n      results: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.searchService.getResults().subscribe(results => {\r\n      if (Array.isArray(results)) {\r\n        this.setState(() => ({ results }));\r\n      } else {\r\n        this.setState(() => ({ results: [] }));\r\n      }\r\n    });\r\n  }\r\n\r\n  search = query => {\r\n    this.searchService.search(query.trim());\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search-books\">\r\n        <SearchBar handleSearch={this.search} />\r\n        <SearchResults results={this.state.results} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchPage;\r\n","import React from \"react\";\r\nimport * as BooksAPI from \"../services/BooksAPI\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport HomePage from \"./HomePage\";\r\nimport SearchPage from \"./SearchPage\";\r\n\r\nimport \"./App.css\";\r\n\r\n// Export the context so the data can be accessed from other files\r\nexport const AppContext = React.createContext();\r\n\r\nclass BooksApp extends React.Component {\r\n  static keys = {\r\n    shelf1: \"currentlyReading\",\r\n    shelf2: \"wantToRead\",\r\n    shelf3: \"read\"\r\n  };\r\n\r\n  state = {\r\n    books: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    let books = JSON.parse(window.localStorage.getItem(\"allBooks\"));\r\n    if (!books) {\r\n      try {\r\n        books = await BooksAPI.getAll();\r\n      } catch (err) {\r\n        return err;\r\n      }\r\n    }\r\n    this.setState({ books });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    window.localStorage.setItem(\"allBooks\", JSON.stringify(this.state.books));\r\n  }\r\n\r\n  updateBookStatus = async (book, shelf) => {\r\n    const { books } = this.state;\r\n    let shelvesLen = 0;\r\n\r\n    try {\r\n      const shelves = await BooksAPI.update(book, shelf);\r\n      for (let key in shelves) shelvesLen += shelves[key].length;\r\n\r\n      if (shelvesLen === books.length) {\r\n        this.setState({\r\n          books: [...books.filter(b => b.id !== book.id), { ...book, shelf }]\r\n        });\r\n      } else if (shelvesLen < books.length) {\r\n        this.setState({\r\n          books: [...books.filter(b => b.id !== book.id)]\r\n        });\r\n      } else {\r\n        this.setState({\r\n          books: [...books, { ...book, shelf }]\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <AppContext.Provider\r\n        value={{\r\n          state: this.state,\r\n          updateBookStatus: this.updateBookStatus\r\n        }}\r\n      >\r\n        <Router>\r\n          <div className=\"app\">\r\n            <Route\r\n              exact\r\n              path=\"/\"\r\n              render={() => (\r\n                <HomePage books={this.state.books} keys={BooksApp.keys} />\r\n              )}\r\n            />\r\n            <Route path=\"/search\" component={SearchPage} />\r\n          </div>\r\n        </Router>\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}